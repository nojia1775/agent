#include <iostream>
#include "../include/Server.hpp"

int	main(void)
{
	try
	{
		Server server({
			{'1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'},
			{'1', '0', '0', 'O', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '1'},
			{'1', '0', '0', 'O', 'O', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '1'},
			{'1', '0', '0', '0', 'O', '0', '0', '0', 'A', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '1'},
			{'1', '0', '0', '0', 'O', 'O', 'O', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '1'},
			{'1', '0', '0', '0', '0', '0', 'O', '0', '0', '0', 'A', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '1'},
			{'1', '0', '0', '0', '0', 'O', 'O', '0', '0', '0', '0', 'A', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '1'},
			{'1', '0', '0', '0', '0', 'O', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '1'},
			{'1', '0', '0', '0', '0', 'O', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '1'},
			{'1', '0', '0', '0', '0', 'O', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '1'},
			{'1', '0', '0', '0', '0', 'O', 'O', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '0', '1'},
			{'1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'},
		});
		server.play();
		std::vector<std::vector<char>> grid = server.getAgent(0)->getSurrounding();
		for (const auto& line : grid)
		{
			for (const auto& c : line)
				std::cout << c;
			std::cout << std::endl;
		}
	}
	catch (const std::exception& e) { std::cerr << e.what() << std::endl; }
	return 0;
}